[![api_yamdb workflow](https://github.com/marusya-zh/yamdb_final/actions/workflows/yamdb_workflow.yml/badge.svg)](https://github.com/marusya-zh/yamdb_final/actions/workflows/yamdb_workflow.yml)

# CI и CD проекта api_yamdb

### Описание
В проекте реализован workflow для приложения api_yamdb:
- автоматический запуск тестов;
- обновление образов на Docker Hub;
- автоматический деплой на сервер при пуше в главную ветку;
- отправка уведомления в Telegram.

### Технологии
- Python 3.8.9
- Django 2.2.16
- Docker 20.10.7

### Установка Docker и Docker Compose
- [https://docs.docker.com/get-docker/](https://docs.docker.com/get-docker/ "Get Docker")
- [https://docs.docker.com/compose/install/](https://docs.docker.com/compose/install/ "Install Docker Compose")

### Шаблон наполнения файла `yamdb_final/infra/.env`
```
SECRET_KEY=Some-Autogenerated-Secret-Key
ALLOWED_HOSTS=localhost,127.0.0.1
DB_ENGINE=django.db.backends.postgresql
DB_NAME=django_db
POSTGRES_USER=user_name
POSTGRES_PASSWORD=password
DB_HOST=db
DB_PORT=5432
```

### Запуск проекта в контейнерах
- Клонируйте репозиторий:
```
git clone https://github.com/marusya-zh/yamdb_final.git
```
- Находясь в папке с файлом docker-compose.yaml, запустите приложение командой:
```
sudo docker-compose up -d
```
- Выполните миграции:
```
sudo docker-compose exec web python manage.py migrate
```
- Соберите статику:
```
sudo docker-compose exec web python manage.py collectstatic --no-input
```
- Загрузите данные в базу:
```
sudo docker-compose exec web python manage.py loaddata fixtures.json
```  

Локально приложение доступно по адресу [http://localhost/](http://localhost/).  
Развёрнутый и запущенный проект на удалённом сервере доступен по ссылке [http://178.154.207.124/](http://178.154.207.124/).

### Документация приложения
Документация API YaMDb подключена по адресу [http://178.154.207.124/redoc/](http://178.154.207.124/redoc/) и содержит описание возможных запросов к API и структуру ожидаемых ответов.

### Автор
Mariya Zhuchina
